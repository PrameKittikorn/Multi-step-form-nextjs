{"version":3,"sources":["../../../src/server/web/adapter.ts"],"names":["adapter","NextRequestHint","NextRequest","constructor","params","input","init","sourcePage","page","request","PageSignatureError","respondWith","waitUntil","FLIGHT_PARAMETERS","RSC","NEXT_ROUTER_STATE_TREE","NEXT_ROUTER_PREFETCH","FETCH_CACHE_HEADER","ensureInstrumentationRegistered","isEdgeRendering","self","__BUILD_MANIFEST","url","normalizeRscPath","requestUrl","NextURL","headers","nextConfig","keys","searchParams","key","value","getAll","NEXT_QUERY_PARAM_PREFIX","startsWith","normalizedKey","substring","length","delete","val","append","buildId","isDataReq","pathname","requestHeaders","fromNodeOutgoingHttpHeaders","flightHeaders","Map","param","toString","toLowerCase","get","set","normalizeUrl","process","env","__NEXT_NO_MIDDLEWARE_URL_NORMALIZE","URL","stripInternalSearchParams","body","geo","ip","method","Object","defineProperty","enumerable","globalThis","__incrementalCache","IncrementalCache","appDir","fetchCache","minimalMode","NODE_ENV","fetchCacheKeyPrefix","__NEXT_FETCH_CACHE_KEY_PREFIX","dev","requestProtocol","getPrerenderManifest","version","routes","dynamicRoutes","notFoundRoutes","preview","previewModeId","event","NextFetchEvent","response","handler","Response","TypeError","rewrite","rewriteUrl","forceLocale","host","nextUrl","String","relativizedRewrite","relativizeURL","__NEXT_EXTERNAL_MIDDLEWARE_REWRITE_RESOLVE","match","redirect","redirectURL","finalResponse","NextResponse","next","middlewareOverrideHeaders","overwrittenHeaders","push","join","Promise","all","waitUntilSymbol"],"mappings":";;;;+BA4DsBA;;;eAAAA;;;uBA1Da;uBACS;4BACb;yBACH;0BACC;+BACC;yBAEN;+BACkB;0BACT;kCAM1B;2BACiC;yBACQ;AAEhD,MAAMC,wBAAwBC,oBAAW;IAGvCC,YAAYC,MAIX,CAAE;QACD,KAAK,CAACA,OAAOC,KAAK,EAAED,OAAOE,IAAI;QAC/B,IAAI,CAACC,UAAU,GAAGH,OAAOI,IAAI;IAC/B;IAEA,IAAIC,UAAU;QACZ,MAAM,IAAIC,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC,GAAE;IACzD;IAEAI,cAAc;QACZ,MAAM,IAAID,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC,GAAE;IACzD;IAEAK,YAAY;QACV,MAAM,IAAIF,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC,GAAE;IACzD;AACF;AAEA,MAAMM,oBAAoB;IACxB;QAACC,qBAAG;KAAC;IACL;QAACC,wCAAsB;KAAC;IACxB;QAACC,sCAAoB;KAAC;IACtB;QAACC,oCAAkB;KAAC;CACrB;AASM,eAAejB,QACpBI,MAAsB,EACK;IAC3B,MAAMc,IAAAA,wCAA+B;IAErC,yCAAyC;IACzC,MAAMC,kBAAkB,OAAOC,KAAKC,gBAAgB,KAAK;IAEzDjB,OAAOK,OAAO,CAACa,GAAG,GAAGC,IAAAA,0BAAgB,EAACnB,OAAOK,OAAO,CAACa,GAAG,EAAE,IAAI;IAE9D,MAAME,aAAa,IAAIC,gBAAO,CAACrB,OAAOK,OAAO,CAACa,GAAG,EAAE;QACjDI,SAAStB,OAAOK,OAAO,CAACiB,OAAO;QAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;IACvC;IAEA,yIAAyI;IACzI,4CAA4C;IAC5C,MAAMC,OAAO;WAAIJ,WAAWK,YAAY,CAACD,IAAI;KAAG;IAChD,KAAK,MAAME,OAAOF,KAAM;QACtB,MAAMG,QAAQP,WAAWK,YAAY,CAACG,MAAM,CAACF;QAE7C,IACEA,QAAQG,kCAAuB,IAC/BH,IAAII,UAAU,CAACD,kCAAuB,GACtC;YACA,MAAME,gBAAgBL,IAAIM,SAAS,CAACH,kCAAuB,CAACI,MAAM;YAClEb,WAAWK,YAAY,CAACS,MAAM,CAACH;YAE/B,KAAK,MAAMI,OAAOR,MAAO;gBACvBP,WAAWK,YAAY,CAACW,MAAM,CAACL,eAAeI;YAChD;YACAf,WAAWK,YAAY,CAACS,MAAM,CAACR;QACjC,CAAC;IACH;IAEA,4DAA4D;IAC5D,MAAMW,UAAUjB,WAAWiB,OAAO;IAClCjB,WAAWiB,OAAO,GAAG;IAErB,MAAMC,YAAYtC,OAAOK,OAAO,CAACiB,OAAO,CAAC,gBAAgB;IAEzD,IAAIgB,aAAalB,WAAWmB,QAAQ,KAAK,UAAU;QACjDnB,WAAWmB,QAAQ,GAAG;IACxB,CAAC;IAED,MAAMC,iBAAiBC,IAAAA,kCAA2B,EAACzC,OAAOK,OAAO,CAACiB,OAAO;IACzE,MAAMoB,gBAAgB,IAAIC;IAC1B,oDAAoD;IACpD,IAAI,CAAC5B,iBAAiB;QACpB,KAAK,MAAM6B,SAASnC,kBAAmB;YACrC,MAAMiB,MAAMkB,MAAMC,QAAQ,GAAGC,WAAW;YACxC,MAAMnB,QAAQa,eAAeO,GAAG,CAACrB;YACjC,IAAIC,OAAO;gBACTe,cAAcM,GAAG,CAACtB,KAAKc,eAAeO,GAAG,CAACrB;gBAC1Cc,eAAeN,MAAM,CAACR;YACxB,CAAC;QACH;IACF,CAAC;IAED,MAAMuB,eAAeC,QAAQC,GAAG,CAACC,kCAAkC,GAC/D,IAAIC,IAAIrD,OAAOK,OAAO,CAACa,GAAG,IAC1BE,UAAU;IAEd,MAAMf,UAAU,IAAIR,gBAAgB;QAClCO,MAAMJ,OAAOI,IAAI;QACjB,mDAAmD;QACnDH,OAAOqD,IAAAA,wCAAyB,EAACL,cAAc,IAAI,EAAEJ,QAAQ;QAC7D3C,MAAM;YACJqD,MAAMvD,OAAOK,OAAO,CAACkD,IAAI;YACzBC,KAAKxD,OAAOK,OAAO,CAACmD,GAAG;YACvBlC,SAASkB;YACTiB,IAAIzD,OAAOK,OAAO,CAACoD,EAAE;YACrBC,QAAQ1D,OAAOK,OAAO,CAACqD,MAAM;YAC7BnC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;QACvC;IACF;IAEA;;;;GAIC,GACD,IAAIe,WAAW;QACbqB,OAAOC,cAAc,CAACvD,SAAS,YAAY;YACzCwD,YAAY,KAAK;YACjBlC,OAAO,IAAI;QACb;IACF,CAAC;IAED,IACE,CAAC,AAACmC,WAAmBC,kBAAkB,IACvC,AAAC/D,OAAegE,gBAAgB,EAChC;QACEF,WAAmBC,kBAAkB,GAAG,IAAI,AAC5C/D,OACAgE,gBAAgB,CAAC;YACjBC,QAAQ,IAAI;YACZC,YAAY,IAAI;YAChBC,aAAajB,QAAQC,GAAG,CAACiB,QAAQ,KAAK;YACtCC,qBAAqBnB,QAAQC,GAAG,CAACmB,6BAA6B;YAC9DC,KAAKrB,QAAQC,GAAG,CAACiB,QAAQ,KAAK;YAC9B5B,gBAAgBxC,OAAOK,OAAO,CAACiB,OAAO;YACtCkD,iBAAiB;YACjBC,sBAAsB,IAAM;gBAC1B,OAAO;oBACLC,SAAS,CAAC;oBACVC,QAAQ,CAAC;oBACTC,eAAe,CAAC;oBAChBC,gBAAgB,EAAE;oBAClBC,SAAS;wBACPC,eAAe;oBACjB;gBACF;YACF;QACF;IACF,CAAC;IAED,MAAMC,QAAQ,IAAIC,0BAAc,CAAC;QAAE5E;QAASD,MAAMJ,OAAOI,IAAI;IAAC;IAC9D,IAAI8E,WAAW,MAAMlF,OAAOmF,OAAO,CAAC9E,SAAS2E;IAE7C,yCAAyC;IACzC,IAAIE,YAAY,CAAEA,CAAAA,oBAAoBE,QAAO,GAAI;QAC/C,MAAM,IAAIC,UAAU,mDAAkD;IACxE,CAAC;IAED;;;;;GAKC,GACD,MAAMC,UAAUJ,mBAAAA,KAAAA,IAAAA,SAAU5D,OAAO,CAACyB,GAAG,CAAC,uBAAuB;IAC7D,IAAImC,YAAYI,SAAS;QACvB,MAAMC,aAAa,IAAIlE,gBAAO,CAACiE,SAAS;YACtCE,aAAa,IAAI;YACjBlE,SAAStB,OAAOK,OAAO,CAACiB,OAAO;YAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;QACvC;QAEA,IAAI,CAAC2B,QAAQC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAImC,WAAWE,IAAI,KAAKpF,QAAQqF,OAAO,CAACD,IAAI,EAAE;gBAC5CF,WAAWlD,OAAO,GAAGA,WAAWkD,WAAWlD,OAAO;gBAClD6C,SAAS5D,OAAO,CAAC0B,GAAG,CAAC,wBAAwB2C,OAAOJ;YACtD,CAAC;QACH,CAAC;QAED;;;;KAIC,GACD,MAAMK,qBAAqBC,IAAAA,4BAAa,EACtCF,OAAOJ,aACPI,OAAOvE;QAGT,IACEkB,aACA,kDAAkD;QAClD,oDAAoD;QACpD,yCAAyC;QACzC,CACEY,CAAAA,QAAQC,GAAG,CAAC2C,0CAA0C,IACtDF,mBAAmBG,KAAK,CAAC,gBAAe,GAE1C;YACAb,SAAS5D,OAAO,CAAC0B,GAAG,CAAC,oBAAoB4C;QAC3C,CAAC;IACH,CAAC;IAED;;;;GAIC,GACD,MAAMI,WAAWd,mBAAAA,KAAAA,IAAAA,SAAU5D,OAAO,CAACyB,GAAG,CAAC,WAAW;IAClD,IAAImC,YAAYc,YAAY,CAACjF,iBAAiB;QAC5C,MAAMkF,cAAc,IAAI5E,gBAAO,CAAC2E,UAAU;YACxCR,aAAa,KAAK;YAClBlE,SAAStB,OAAOK,OAAO,CAACiB,OAAO;YAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;QACvC;QAEA;;;KAGC,GACD2D,WAAW,IAAIE,SAASF,SAAS3B,IAAI,EAAE2B;QAEvC,IAAI,CAAChC,QAAQC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAI6C,YAAYR,IAAI,KAAKpF,QAAQqF,OAAO,CAACD,IAAI,EAAE;gBAC7CQ,YAAY5D,OAAO,GAAGA,WAAW4D,YAAY5D,OAAO;gBACpD6C,SAAS5D,OAAO,CAAC0B,GAAG,CAAC,YAAY2C,OAAOM;YAC1C,CAAC;QACH,CAAC;QAED;;;;KAIC,GACD,IAAI3D,WAAW;YACb4C,SAAS5D,OAAO,CAACY,MAAM,CAAC;YACxBgD,SAAS5D,OAAO,CAAC0B,GAAG,CAClB,qBACA6C,IAAAA,4BAAa,EAACF,OAAOM,cAAcN,OAAOvE;QAE9C,CAAC;IACH,CAAC;IAED,MAAM8E,gBAAgBhB,WAAWA,WAAWiB,sBAAY,CAACC,IAAI,EAAE;IAE/D,iFAAiF;IACjF,MAAMC,4BAA4BH,cAAc5E,OAAO,CAACyB,GAAG,CACzD;IAEF,MAAMuD,qBAA+B,EAAE;IACvC,IAAID,2BAA2B;QAC7B,KAAK,MAAM,CAAC3E,KAAKC,MAAM,IAAIe,cAAe;YACxCwD,cAAc5E,OAAO,CAAC0B,GAAG,CAAC,CAAC,qBAAqB,EAAEtB,IAAI,CAAC,EAAEC;YACzD2E,mBAAmBC,IAAI,CAAC7E;QAC1B;QAEA,IAAI4E,mBAAmBrE,MAAM,GAAG,GAAG;YACjCiE,cAAc5E,OAAO,CAAC0B,GAAG,CACvB,iCACAqD,4BAA4B,MAAMC,mBAAmBE,IAAI,CAAC;QAE9D,CAAC;IACH,CAAC;IAED,OAAO;QACLtB,UAAUgB;QACV1F,WAAWiG,QAAQC,GAAG,CAAC1B,KAAK,CAAC2B,2BAAe,CAAC;IAC/C;AACF"}